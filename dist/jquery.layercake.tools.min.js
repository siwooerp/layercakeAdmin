(function(c,b,a,e){c.event.special.valuechange={teardown:function(f){c(this).unbind(".valuechange")},handler:function(f){c.event.special.valuechange.triggerChanged(c(this))},add:function(f){c(this).on("keyup.valuechange cut.valuechange paste.valuechange input.valuechange",f.selector,c.event.special.valuechange.handler)},triggerChanged:function(f){var h=f[0].contentEditable==="true"?f.html():f.val(),g=typeof f.data("previous")==="undefined"?f[0].defaultValue:f.data("previous");if(h!==g){f.trigger("valuechange",[f.data("previous")]);f.data("previous",h)}}};var d={isJSON:function(f){return typeof(f)==="object"&&Object.prototype.toString.call(f).toLowerCase()&&!f.length},isFunction:function(f){return({}).toString.call(f)==="[object Function]"},isString:function(f){return typeof f==="string"},isArray:function(f){return f instanceof Array},jsonStringify:function(f){return f===e||typeof f==="function"?"":JSON.stringify(f)},jsonParse:function(f){return !f||typeof f==="undefined"?"":JSON.parse(f)}};c.SW={storage:{storage:!!b.localStorage,set:function(g,f){localStorage.setItem(g,d.stringify(f));return this},add:function(h,f){if(typeof f!=="undefined"){var g=this.get(h)||[];g.push(f);this.set(h,g)}return this},get:function(f){return d.parse(localStorage.getItem(f))},clear:function(f){if(typeof f!=="undefined"){localStorage.removeItem(f)}else{localStorage.clear()}return this}},NUM:{add:function(j,i){var h,g,f;try{h=j.toString().split(".")[1].length}catch(k){h=0}try{g=i.toString().split(".")[1].length}catch(k){g=0}f=Math.pow(10,Math.max(h,g));return(this.mul(j,f)+this.mul(i,f))/f},sub:function(g,f){return this.add(g,-f)},mul:function(i,g){var f=0,j=i.toString(),h=g.toString();try{f+=j.split(".")[1].length}catch(k){}try{f+=h.split(".")[1].length}catch(k){}return Number(j.replace(".",""))*Number(h.replace(".",""))/Math.pow(10,f)},div:function(i,h){var k=0,j=0,g,f;try{k=i.toString().split(".")[1].length}catch(l){}try{j=h.toString().split(".")[1].length}catch(l){}g=Number(i.toString().replace(".",""));f=Number(h.toString().replace(".",""));return(g/f)*Math.pow(10,j-k)},toDecimal:function(g){if(g.indexOf("%")!=-1){g=g.replace(/%/g,"");if(g.indexOf(",")!=-1){g=g.replace(/,/g,"")}var f=(g.indexOf(".")==-1)?0:(g.length-g.indexOf(".")-1);g=this.div(g,100).toFixed(f+2)}else{if(g.indexOf(",")!=-1){g=g.replace(/,/g,"")}}return g},toPercentFormat:function(g){var f=this.mul(g,100);return""+f+"%"}}};c.fn.winOpen=function(f){return this.each(function(){var h=this;h.opt=c.extend({},{width:1104,height:600,winName:""},f);if(typeof h.opt.url!=="undefined"){if(h.opt&&typeof h.opt.left==="undefined"){h.opt.left=(b.screen.width-10-h.opt.width)/2}(b.screen.height-30-h.opt.height)<=0&&(h.opt.height=(b.screen.height-30-h.opt.height));if(h.opt&&typeof h.opt.top==="undefined"){h.opt.top=(b.screen.height-30-h.opt.height)/2}g(this,h.opt)}});function g(h,i){c(h).off("click").on("click",function(j){j.stopPropagation();if(d.isFunction(i.url)){i.url=i.url.call(h)}b.open(i.url,i.winName,"width="+i.width+", height="+i.height+", top="+i.top+", left="+i.left+", toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")})}};c.fn.zoomPic=function(k){function f(){c(a.body).off("click.zoomPic").on("click.zoomPic",function(m){m.stopPropagation();var l=c(m.target);if(c(this).find("#zoom-pic").length>0&&l.closest("#zoom-pic").length===0){c("#zoom-pic").remove()}else{if(c(this).find("#zoom-list").length>0&&l.closest("#zoom-list").length===0&&l.closest("#zoom-pic").length===0){c("#zoom-list").remove()}}})}function h(m){c(a.body).find(".bd").append('<div class="zoom-pic zoom-radius zoom-shadow" id="zoom-pic"><span id="zoom-loading">正在加载图片</span><img src="'+m+'" /></div>');var l=new Image();l.onload=function(){g(c("#zoom-pic"),{width:l.width,height:l.height})};l.src=m}function g(l,m){l.css({width:m.width,height:m.height,marginLeft:-1*((m.width+20)/2),marginTop:-1*((m.height+20)/2)}).addClass("show")}function j(m,n,l){var o=!l||typeof l==="undefined"?c(m).data(n):l;if(typeof o!=="undefined"){o=o.split(",")}return o}function i(p,l,m){c("#zoom-list").remove();var n="";c.each(l,function(r,q){n+='<img src="'+q+'" data-max-pic="'+m[r]+'" />'});var o=c('<div class="zoom-list zoom-radius zoom-shadow" id="zoom-list"><div class="zoom-overflow">'+n+"</div></div>");o.css({left:c(p).offset().left+"px",top:(c(p).offset().top+c(p).scrollTop()+c(p).outerHeight(true)+5)+"px"});c(a.body).find(".bd").append(o);o.on("click","img",function(q){q.stopPropagation();c("#zoom-pic").remove();h(c(this).data("max-pic"))})}return this.each(function(){var l=this;l.opt=c.extend({},{maxData:"max-pic",minData:"min-pic",maxImg:"",minImg:""},k);c(l).on("click",function(n){n.stopPropagation();c("#zoom-pic").remove();f();var m=j(l,l.opt.maxData,l.opt.maxImg);switch(m.length){case 0:alert("对不起，没有得到大图地址");break;case 1:h(m[0]);break;default:i(l,j(l,l.opt.minData,l.opt.minImg),m)}})})};c.fn.disableBtn=function(g){var h=this;h.opt=c.extend({},{time:1000},g);return this.each(function(){c(this).on("click",function(i){i.stopPropagation();c(this).prop("disabled",true);f(this)})});function f(i){setTimeout(function(){c(i).prop("disabled",false)},h.opt.time)}};c.fn.unloadPic=function(f){return this.each(function(){var g=this;g.opt=c.extend({},{url:"",pid:"",maxImg:"",minImg:""},f)})}})(window.jQuery,window,document);