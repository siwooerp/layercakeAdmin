$(document).ready(function(){window.url_dns=window.location.origin+"/layercake_admin";window.url_dns_erp=window.location.origin;$(".J_product_pic").each(function(){var d=$(this);d.prop("src",url_dns_erp+"/layercake/product/pic/"+d.data("idx")+"?width="+d.data("width"));d.hasClass("J_click_max")&&d.zoomPic({maxImg:url_dns_erp+"/layercake/product/pic/"+d.data("idx")+"?width=800"})});$("img").each(function(){var d=$(this);d.on("error",function(){d.prop("src","http://siwoo.oss-cn-hangzhou.aliyuncs.com/picnone.png")})});var b=$('<div class="goBack"><span></span></div>');$(".bd").append(b);var a=$(".goBack");$(".bd").scroll(function(){if($(".bd").scrollTop()>200){a.fadeIn(1500)}else{a.fadeOut(1500)}});a.click(function(){$(".bd").animate({scrollTop:0},1000);return false});if($(".J_fixedNav").length>0){var c=$(".J_fixedNav");c.attr("otop",c.offset().top);$(".bd").scroll(function(){if($(".bd").scrollTop()>=parseInt(c.attr("otop"))){if(c.css("position")!="fixed"){c.css({position:"fixed",top:0,"z-index":200,width:"986px","border-top":"10px solid #666666"})}}else{if(c.css("position")!="static"){c.css({position:"static","border-top":"0"})}}})}});function auto(b){$(b.obj).wrap('<div class="check_field"></div>').after('<div class="C_check_field"></div>');var a=$(".C_check_field");a.css("width",$(b.obj).outerWidth());$(b.obj).on("input propertychange",function(e){var d=this;$(d).prop("autocomplete","off");if($(d).val().length<1){a.hide().html("")}else{var c={};c.datatime=+new Date;c[b.dataName]=$(d).val();$.ajax({type:"POST",url:b.url,data:c}).done(function(f){a.show().html("");console.log("联想列表",f);b.returnfn.call(b.obj,f,a)})}});a.on("click",function(e){var f=$(e.target);var c=f.data("idx");var d=f.data("namex");$(b.obj).val(d).data("idx",c);$(b.returnInput).val(c);a.hide();if(b.callback){b.callback()}});$(document).on("click",function(c){var d=$(c.target);if(d.closest(".preview").length==0){$(".C_check_field").hide()}})}(function(a){a.fn.limitNum=function(e,d){var b=d.text(),c;e.eq(0).prop("maxLength",b);c=e.val().length;d.text(b-c);e.on("input propertychange",function(){d.text(b-a(this).val().length)})}})(jQuery);